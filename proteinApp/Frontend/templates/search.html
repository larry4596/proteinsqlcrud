<!DOCTYPE html>
<html>
<head>
    <title>Search Proteins</title>
</head>
<body>
    <h1>Search Stored Proteins</h1>

    <form method="POST" action="/search">
        <label>Protein Name:</label>
        <input type="text" name="protein_name" value="{{ query_name }}"><br><br>

        <label>Sequence Pattern:</label>
        <input type="text" name="sequence" value="{{ query_sequence }}"><br><br>

        <button type="submit">Search</button>
    </form>

    {% if proteins %}
        <h2>Results</h2>
        <table border="1" cellpadding="5">
            <tr>
                <th>ID</th>
                <th>Name</th>
                <th>Sequence</th>
                <th>Length</th>
                <th>Actions</th>
            </tr>
            {% for p in proteins %}
            <tr>
                <td>{{ p.id }}</td>
                <td>{{ p.name }}</td>
                <td>{{ p.sequence }}</td>
                <td>{{ p.length }}</td>
                <td>
                    <a href="/protein/{{ p.id }}">View</a> |
                    <a href="/edit/{{ p.id }}">Edit</a> |
                    <form method="POST" action="/delete/{{ p.id }}" style="display:inline;">
                        <button type="submit" onclick="return confirm('Are you sure?');">Delete</button>
                    </form>
                </td>
            </tr>
            {% endfor %}
        </table>
    {% elif request.method == "POST" %}
        <p>No proteins found.</p>
    {% endif %}

    <br><a href="/input">Analyze New Protein</a>
</body>
</html>
